<div class="grid">
  <div class="col-12">
    <div class="card">
      <div class="flex justify-content-between align-items-center mb-4">
        <h2>Edit Post</h2>
        <p-button label="Back" icon="pi pi-arrow-left" styleClass="p-button-text" (onClick)="goBack()"></p-button>
      </div>
      <p-divider></p-divider>
      <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
        <div class="p-fluid">
          <div class="field">
            <label for="title">Title</label>
            <input id="title" type="text" pInputText formControlName="title" />
            <small *ngIf="editForm.get('title')?.invalid && editForm.get('title')?.touched" class="p-error">
              Title is required (min 5 characters)
            </small>
          </div>
          <div class="field">
            <label for="body">Body</label>
            <textarea id="body" rows="8" pInputTextarea formControlName="body"></textarea>
            <small *ngIf="editForm.get('body')?.invalid && editForm.get('body')?.touched" class="p-error">
              Body is required (min 50 characters)
            </small>
          </div>
          <div class="mt-4">
            <p-button label="Save" icon="pi pi-save" type="submit" [disabled]="editForm.invalid || loading"></p-button>
          </div>
        </div>
      </form>
      <div *ngIf="loading" class="text-center py-8">
        <i class="pi pi-spin pi-spinner text-4xl text-primary"></i>
        <p class="text-600 mt-3">Loading post...</p>
      </div>
    </div>
  </div>
</div>
<p-toast></p-toast> 